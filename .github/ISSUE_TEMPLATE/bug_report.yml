name: Bug Report
description: Report a bug or unexpected behavior in ProtocolSoup
title: "[Bug]: "
labels: ["bug", "triage"]
body:
  - type: markdown
    attributes:
      value: |
        Thanks for taking the time to report a bug! Please fill out the sections below so we can reproduce and fix the issue.

  - type: textarea
    id: description
    attributes:
      label: Description
      description: A clear, concise description of the bug.
      placeholder: "When I run the OAuth 2.0 Authorization Code flow, the token response is missing the refresh_token field..."
    validations:
      required: true

  - type: textarea
    id: steps
    attributes:
      label: Steps to reproduce
      description: Step-by-step instructions to reproduce the behavior.
      placeholder: |
        1. Navigate to Looking Glass
        2. Select "OAuth 2.0 Authorization Code" flow
        3. Click "Execute"
        4. Observe the token response in the timeline
    validations:
      required: true

  - type: textarea
    id: expected
    attributes:
      label: Expected behavior
      description: What you expected to happen.
    validations:
      required: true

  - type: textarea
    id: actual
    attributes:
      label: Actual behavior
      description: What actually happened. Include error messages, screenshots, or Looking Glass timeline output if relevant.
    validations:
      required: true

  - type: dropdown
    id: area
    attributes:
      label: Affected area
      description: Which part of ProtocolSoup is affected?
      options:
        - Looking Glass (flow execution/visualization)
        - OAuth 2.0
        - OpenID Connect
        - SAML 2.0
        - SCIM 2.0
        - SSF (Shared Signals Framework)
        - SPIFFE/SPIRE
        - Mock IdP
        - Frontend UI
        - Backend API
        - Docker/Deployment
        - Other
    validations:
      required: true

  - type: dropdown
    id: environment
    attributes:
      label: How are you running ProtocolSoup?
      options:
        - Local development (go run + npm run dev)
        - Docker Compose
        - Docker Compose with SPIFFE/SPIRE
        - protocolsoup.com (production)
    validations:
      required: true

  - type: textarea
    id: environment-details
    attributes:
      label: Environment details
      description: OS, browser, Go version, Node version - anything relevant.
      placeholder: |
        - OS: macOS 14.2 / Ubuntu 22.04 / Windows 11
        - Browser: Chrome 120
        - Go: 1.22
        - Node: 20.x

  - type: textarea
    id: logs
    attributes:
      label: Relevant logs or error output
      description: Paste any relevant backend logs, browser console errors, or network traces.
      render: shell

  - type: checkboxes
    id: checklist
    attributes:
      label: Checklist
      options:
        - label: I have searched existing issues to make sure this hasn't been reported already
          required: true
        - label: I am running the latest version of ProtocolSoup
          required: false
